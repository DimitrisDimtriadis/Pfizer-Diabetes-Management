<app-patient-nav></app-patient-nav>


<div class="container">
  
    <div class="container" style="margin-top:50px;">
        <form [formGroup]="form">
            <div class="form-group row">
              <label class="col-form-label">From:</label>
          <div class="col-sm-3 col-sm-push-4">
            <input class="form-control" type="date"  id="from" formControlName="fromDate">
          </div>
          
          <label for="example-date-input" class=" col-form-label">Until:</label>
          <div class="col-sm-3 col-sm-push-4">
            <input class="form-control" type="date" id="until" formControlName="untilDate" >
          </div>
              <label for="example-date-input" class="col-form-label">Amka:</label>
              <div class="col-sm-2">
                <input class="form-control" type="text"  id="amka" formControlName="amka" 
                [ngClass]="{ 'is-invalid': submitted && f.amka.errors }" />
                <div *ngIf="submitted && f.amka.errors" class="invalid-feedback">
                    <div *ngIf="f.amka.errors.required">AMKA is required</div>
                    <div *ngIf="f.amka.errors.minlength">AMKA must be 9 characters</div>
                    <div *ngIf="f.amka.errors.maxlength">AMKA must be 9 characters</div>
                </div>
              </div>
              <div class="col-sm-2">
                <button type="submit" class="btn btn-primary" (click)="Search()" >Search</button>
                <a href="/patient" type="button" >Back</a>
              </div>
            </div>      
        </form>
    </div> 
  </div>

  <table id="myTable" class="table table-hover  table-responsive-md  text-center">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Numbers Of Data</th>
        <th scope="col">Average Carb Intake</th>
        <th scope="col">Average Blood Glucose Level</th>
      </tr>
    </thead>
    <tbody *ngFor="let medi of mediData; let i = index">
      <tr>
        <th class="scope">{{i+1}} </th>
        <td >{{medi.numbersOfData}}</td>
        <td >{{medi.avgBloodGlucoseLevel | number : '1.2-2'}} mg/dL }}</td>
        <td >{{medi.avgCarbIntakeAVG | number : '1.2-2'}} mg/dL}}</td>
      </tr>
  </tbody>
  </table>